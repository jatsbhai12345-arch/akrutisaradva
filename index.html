<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Promise Jar ðŸ’Œ - Promise Day</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #f5e1fd 0%, #ffe9f2 50%, #e0f7ff 100%);
      font-family: 'Segoe UI', system-ui, sans-serif;
      color: #3a0f2c;
      overflow-y: auto;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding-top: 20px;
      touch-action: manipulation;
    }

    .container {
      position: relative;
      z-index: 10;
      text-align: center;
      padding: 20px;
      max-width: 95%;
    }

    h1 {
      font-size: clamp(2.8rem, 9.5vw, 4.4rem);
      color: #9c27b0;
      margin-bottom: 0.8rem;
      text-shadow: 0 3px 18px rgba(156, 39, 176, 0.3);
      animation: title-glow 6s ease-in-out infinite alternate;
    }

    .signature-top {
      font-size: 1.35rem;
      font-style: italic;
      color: #7b1fa2;
      opacity: 0.92;
      margin-bottom: 1.8rem;
    }

    .jar-wrapper {
      position: relative;
      width: 220px;
      height: 280px;
      margin: 30px auto 50px auto;
      cursor: pointer;
      user-select: none;
    }

    .jar {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #ffffff 0%, #f8e1ff 100%);
      border: 8px solid #d81b60;
      border-radius: 40% 40% 20% 20% / 60% 60% 40% 40%;
      position: relative;
      overflow: hidden;
      box-shadow: 0 15px 50px rgba(216, 27, 96, 0.25),
                  inset 0 5px 20px rgba(255,255,255,0.7);
      transition: transform 0.6s ease;
    }

    .jar.open {
      transform: scale(1.06) translateY(-12px);
    }

    .fill {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 0%;
      background: linear-gradient(to top, #ff80ab, #ff4081);
      opacity: 0.85;
      transition: height 1.2s ease-out;
      z-index: 1;
    }

    .lid {
      position: absolute;
      top: -45px;
      left: 50%;
      transform: translateX(-50%);
      width: 140px;
      height: 50px;
      background: #d81b60;
      border-radius: 50% 50% 0 0;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
      transition: all 0.8s ease;
      z-index: 3;
    }

    .jar.complete .lid {
      transform: translateX(-50%) translateY(-20px) rotate(0deg);
    }

    .note {
      position: relative;
      background: #fff9e6;
      border: 2px solid #ffb6c1;
      border-radius: 14px;
      padding: 24px 28px;
      font-size: clamp(1.25rem, 4.3vw, 1.6rem);
      color: #4a148c;
      font-weight: 500;
      line-height: 1.55;
      opacity: 0;
      transform: translateY(50px) scale(0.75);
      transition: all 1.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      max-width: 90%;
      margin: 20px auto;
      box-shadow: 0 12px 35px rgba(0,0,0,0.18);
      z-index: 10;
    }

    .note.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .poem-section {
      margin-top: 40px;
      opacity: 0;
      transition: opacity 1.8s ease;
      min-height: 200px;
    }

    .poem-section.show {
      opacity: 1;
    }

    .poem {
      font-size: clamp(1.3rem, 4.5vw, 1.7rem);
      line-height: 1.8;
      color: #6a1b9a;
      font-weight: 500;
      white-space: pre-line;
      margin: 20px auto;
      max-width: 90%;
    }

    .next-btn {
      background: #d81b60;
      color: white;
      border: none;
      padding: 14px 32px;
      font-size: 1.2rem;
      border-radius: 12px;
      cursor: pointer;
      margin-top: 20px;
      transition: all 0.3s;
      display: none;
    }

    .next-btn.show {
      display: inline-block;
    }

    .next-btn:hover {
      background: #ad1457;
      transform: translateY(-2px);
    }

    /* Particles */
    .particles {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      background: rgba(255, 105, 180, 0.75);
      border-radius: 50%;
      animation: sparkle linear forwards;
      box-shadow: 0 0 12px rgba(255, 105, 180, 0.9);
    }

    .float-note {
      position: absolute;
      font-size: 2.4rem;
      color: rgba(156, 39, 176, 0.4);
      animation: float-note-up linear forwards;
    }

    @keyframes title-glow {
      from { text-shadow: 0 0 15px rgba(156, 39, 176, 0.3); }
      to   { text-shadow: 0 0 38px rgba(156, 39, 176, 0.5); }
    }

    @keyframes sparkle {
      0% { transform: scale(0) translateY(0); opacity: 0.9; }
      50% { opacity: 1; }
      100% { transform: scale(1.6) translateY(-130vh) translateX(40px); opacity: 0; }
    }

    @keyframes float-note-up {
      0% { transform: translateY(110vh) rotate(0deg) scale(0.5); opacity: 0.4; }
      100% { transform: translateY(-50vh) rotate(720deg) scale(1.05); opacity: 0; }
    }
  </style>
</head>
<body>

  <div class="particles" id="particles"></div>

  <div class="container">
    <h1>Promise Jar ðŸ’Œ</h1>
    <div class="signature-top">Sealed with your love</div>

    <div class="jar-wrapper" id="jarTap">
      <div class="jar" id="jar">
        <div class="fill" id="fill"></div>
        <div class="lid" id="lid"></div>
      </div>
    </div>

    <div class="note" id="note">
      Tap the jar to open a special promise...
    </div>

    <div class="poem-section" id="poemSection">
      <div class="poem" id="poemText"></div>
      <button class="next-btn" id="nextPoemBtn">Next Poem â†’</button>
    </div>
  </div>

  <script>
    const promises = [
      "I promise to be your safe place â€” always.",
      "I promise to choose you even on ordinary days.",
      "I promise to listen with my whole heart.",
      "I promise to celebrate your happiness like my own.",
      "I promise to grow with you, never away.",
      "I promise to hold your dreams as carefully as mine.",
      "I promise to make you laugh when the world feels heavy.",
      "I promise to love your quiet moments as much as your loud ones.",
      "I promise to show up â€” every single time.",
      "I promise to keep falling for you, again and again.",
      "I promise patience when words are hard to find.",
      "I promise you my forever â€” no expiration date."
    ];

    const poem1 = `àª¹à«àª‚ àªµàªšàª¨ àª†àªªàª¤à«‹ àª¨àª¥à«€ àª•à«‡ àª¤àª¾àª°àª¾ àª®àª¾àªŸà«‡ àªšàª¾àª‚àª¦ àª²àª¾àªµà«€àª¶ ðŸŒ™,\nàªªàª£.. àª¤àª¾àª°àª¾ àª¸àª¾àª¥à«‡ àª¸à«‚àª°à«àª¯àªªà«àª°àª•àª¾àª¶àª®àª¾àª‚ àªŠàª­à«‹ àª°àª¹à«€àª¶ â˜€ï¸.\n\nàª¹à«àª‚ àªµàªšàª¨ àª†àªªàª¤à«‹ àª¨àª¥à«€ àª•à«‡ àª•àª¦à«€ àªàª˜àª¡à«‹ àª¨àª¹à«€àª‚ àª•àª°à«àª‚,\nàªªàª£.. àª¹àª‚àª®à«‡àª¶àª¾ àª¤àª¾àª°àª¾ àª¸àª¾àª¥à«‡ àª°àª¹à«€àª¶ â¤ï¸`;

    const poem2 = `àª…àª°à«‡.. àªµàª¹àª¾àª²à«€,\nàªµàªšàª¨ àª¤à«‹ àª¤à«àª¯àª¾àª°à«‡ àªœ àª…àªªàª¾àªˆ àª—àª¯à«àª‚ àª¹à«‹àª¯ àªœà«àª¯àª¾àª°à«‡ àªªà«àª°à«‡àª® àª¥àª¯à«àª‚ àª¹à«‹àª¯.\nàª¹àª‚àª®à«‡àª¶àª¾ àª¸àª¾àª¥à«‡àª¨à«àª‚ àª¸àª¹àª•àª¾àª°àª¨à«àª‚, àªªà«àª°à«‡àª®àª¨à«àª‚, àª²àª¾àª—àª£à«€àª¨à«àª‚.\n\nàª›àª¤àª¾àª‚ àª¯ àª¤àª¨à«‡ àª†àªªà«àª‚ àªµàªšàª¨...\nàª¹àª‚àª®à«‡àª¶àª¾ àª¤àª¨à«‡ àªªà«àª°à«‡àª® àª•àª°àªµàª¾àª¨à«àª‚,\nàª¤àª¨à«‡ àª¯àª¾àª¦ àª°àª¾àª–àªµàª¾àª¨à«àª‚ â€” àª àªªàª£ àª•à«‹àªˆ àª…àªªà«‡àª•à«àª·àª¾ àªµàª—àª°.`;

    const TOTAL_PROMISES = promises.length;
    let currentIndex = -1;
    let isOpen = false;
    let poemStep = 0; // 0 = first poem, 1 = second poem

    const jarTap = document.getElementById('jarTap');
    const jar = document.getElementById('jar');
    const lid = document.getElementById('lid');
    const fill = document.getElementById('fill');
    const noteEl = document.getElementById('note');
    const poemSection = document.getElementById('poemSection');
    const poemText = document.getElementById('poemText');
    const nextPoemBtn = document.getElementById('nextPoemBtn');

    function openJar() {
      if (!isOpen) {
        jar.classList.add('open');
        isOpen = true;
      }
    }

    function updateJarFill() {
      const progress = ((currentIndex + 1) / TOTAL_PROMISES) * 100;
      fill.style.height = progress + '%';

      if (currentIndex + 1 === TOTAL_PROMISES) {
        jar.classList.add('complete');
        noteEl.style.display = 'none';
        showFirstPoem();
      }
    }

    function showNextPromise() {
      if (currentIndex + 1 >= TOTAL_PROMISES) return;

      openJar();

      currentIndex++;
      noteEl.classList.remove('show');

      setTimeout(() => {
        noteEl.textContent = promises[currentIndex];
        noteEl.classList.add('show');
        updateJarFill();
        createParticles(10 + Math.floor(currentIndex / 3));
        createFloatNote();
      }, 600);
    }

    function showFirstPoem() {
      poemSection.classList.add('show');
      poemText.textContent = poem1;
      nextPoemBtn.classList.add('show');
      poemStep = 1;
    }

    function showSecondPoem() {
      poemText.style.opacity = '0';
      setTimeout(() => {
        poemText.textContent = poem2;
        poemText.style.opacity = '1';
        nextPoemBtn.style.display = 'none';
      }, 600);
    }

    function createParticles(count) {
      for (let i = 0; i < count; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        const size = Math.random() * 10 + 5;
        p.style.width = size + 'px';
        p.style.height = size + 'px';
        p.style.left = Math.random() * 100 + '%';
        p.style.bottom = '0';
        p.style.animationDuration = Math.random() * 2.5 + 1.8 + 's';
        document.getElementById('particles').appendChild(p);
        setTimeout(() => p.remove(), 4000);
      }
    }

    function createFloatNote() {
      const note = document.createElement('div');
      note.className = 'float-note';
      note.textContent = 'ðŸ’Œ';
      const left = Math.random() * 100;
      const duration = Math.random() * 11 + 13;
      const size = Math.random() * 2.2 + 1.8;
      note.style.left = left + '%';
      note.style.fontSize = size + 'rem';
      note.style.animationDuration = duration + 's';
      note.style.animationDelay = Math.random() * 2 + 's';
      document.getElementById('particles').appendChild(note);
      setTimeout(() => note.remove(), duration * 1000 + 2000);
    }

    jarTap.addEventListener('click', showNextPromise);
    jarTap.addEventListener('touchstart', (e) => {
      e.preventDefault();
      showNextPromise();
    }, { passive: false });

    nextPoemBtn.addEventListener('click', showSecondPoem);

    // Start
    setTimeout(showNextPromise, 1000);

    // Background ambiance
    setInterval(() => createParticles(3), 5000);
  </script>

</body>
</html>